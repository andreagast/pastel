<div class="flex flex-col gap-6 mt-4" *ngIf="!loading; else loadingTpl">
  <div class="py-4 align-end">
    <a
      routerLink="/backoffice/products/new"
      class="px-4 py-2 border border-green-400 text-white bg-green-400 rounded hover:bg-green-700 hover:border-bg-700 disabled:border-gray-100 disabled:bg-gray-100"
    >
      Create new product
    </a>
  </div>
  <div class="border border-black rounded-md h-full w-full">
    <table class="w-full">
      <thead>
        <tr>
          <th>Name</th>
          <th>Ingredients #</th>
          <th>Last updated</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products" class="border-t border-b border-gray-100">
          <td>{{ product.name }}</td>
          <td class="text-center">{{ product.ingredients?.length ?? 0 }}</td>
          <td class="text-center">{{ product.updated | date }}</td>
          <td class="text-center">
            <a [routerLink]="['/backoffice/products', product.id]" class="mx-2">
              <lucide-icon name="edit-2" class="!w-3 !h-3 text-blue-500"></lucide-icon>
            </a>
            <button type="button" class="mx-2">
              <lucide-icon name="trash-2" class="!w-3 !h-3 text-red-500"></lucide-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="w-full h-full flex flex-row items-center justify-center">
    <h1>Caricamento...</h1>
  </div>
</ng-template>
